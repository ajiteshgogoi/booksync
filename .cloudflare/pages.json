{
  "buildConfig": {
    "buildCommand": "chmod +x build.sh && ./build.sh",
    "outputDirectory": "client/dist",
    "nodeVersion": "18"
  },
  "deploymentConfigs": {
    "pages": {
      "routes": [
        { 
          "pattern": "/api/*", 
          "zone": "api" 
        },
        {
          "pattern": "/assets/*",
          "staticPageHeaders": {
            "Cache-Control": "public, max-age=31536000, immutable"
          }
        },
        {
          "pattern": "/*.{js,css,ico,png,svg,jpg,jpeg,json,txt}",
          "staticPageHeaders": {
            "Cache-Control": "public, max-age=31536000, immutable"
          }
        },
        {
          "pattern": "/*",
          "serve": "/index.html",
          "staticPageHeaders": {
            "Cache-Control": "no-cache, no-store, must-revalidate"
          }
        }
      ],
      "functionsDirectory": "functions"
    }
  }
}